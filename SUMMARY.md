# Dataset Crawler - –ò—Ç–æ–≥–æ–≤–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–æ–µ–∫—Ç–µ

## üìã –û–±–∑–æ—Ä

–í—ã —Å–æ–∑–¥–∞–ª–∏ –ø–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π **C++ –∫—Ä–∞—É–ª–µ—Ä** –¥–ª—è —Å–±–æ—Ä–∞ –¥–∞—Ç–∞—Å–µ—Ç–æ–≤ –¥–ª—è –ò–ò —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –≤ —Ñ–æ—Ä–º–∞—Ç **Parquet**. –ü—Ä–æ–µ–∫—Ç –≤–∫–ª—é—á–∞–µ—Ç –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–µ –¥–ª—è —Ä–∞–±–æ—Ç—ã: –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥, –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é, –ø—Ä–∏–º–µ—Ä—ã, Docker –ø–æ–¥–¥–µ—Ä–∂–∫—É –∏ Python —É—Ç–∏–ª–∏—Ç—ã.

## ‚úÖ –ß—Ç–æ –±—ã–ª–æ —Å–æ–∑–¥–∞–Ω–æ

### –Ø–¥—Ä–æ –ø—Ä–æ–µ–∫—Ç–∞ (C++ –∫–æ–¥)

#### –ó–∞–≥–æ–ª–æ–≤–∫–∏ (include/)
- **crawler.h** - –ë–∞–∑–æ–≤—ã–π –≤–µ–±-–∫—Ä–∞—É–ª–µ—Ä (—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π)
  - `WebCrawler` –∫–ª–∞—Å—Å
  - `fetch()` - –ø–æ–ª—É—á–∏—Ç—å –æ–¥–Ω—É —Å—Ç—Ä–∞–Ω–∏—Ü—É
  - `crawl_urls()` - –ø–æ–ª—É—á–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å—Ç—Ä–∞–Ω–∏—Ü
  
- **advanced_crawler.h** - –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π –∫—Ä–∞—É–ª–µ—Ä (–º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω—ã–π)
  - `AdvancedCrawler` –∫–ª–∞—Å—Å
  - Thread pool –¥–ª—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–≥–æ –∫—Ä–∞—É–ª–∏–Ω–≥–∞
  - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
  
- **dataset_writer.h** - –ó–∞–ø–∏—Å—å –¥–∞–Ω–Ω—ã—Ö
  - `ParquetDatasetWriter` –∫–ª–∞—Å—Å
  - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ Parquet (–æ—Å–Ω–æ–≤–Ω–æ–π —Ñ–æ—Ä–º–∞—Ç)
  - –≠–∫—Å–ø–æ—Ä—Ç –≤ CSV (–¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏)

#### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è (src/)
- **main.cpp** - –ì–ª–∞–≤–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞ —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏
- **crawler.cpp** - –†–µ–∞–ª–∏–∑–∞—Ü–∏—è WebCrawler
  - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç libcurl –¥–ª—è HTTP –∑–∞–ø—Ä–æ—Å–æ–≤
  - –ü–∞—Ä—Å–∏–Ω–≥ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ —Å—Ç—Ä–∞–Ω–∏—Ü
  - –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
  
- **dataset_writer.cpp** - –†–µ–∞–ª–∏–∑–∞—Ü–∏—è Parquet/CSV –∑–∞–ø–∏—Å—å
  - Apache Arrow –¥–ª—è Parquet
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–∂–∞—Ç–∏–µ (Snappy)
  
- **advanced_crawler.cpp** - –ú–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω—ã–π –∫—Ä–∞—É–ª–µ—Ä
  - Thread pool –ø–∞—Ç—Ç–µ—Ä–Ω
  - –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –ø–æ—Ç–æ–∫–æ–≤
  - –ë–∞—Ç—á-–æ–±—Ä–∞–±–æ—Ç–∫–∞

#### –ü—Ä–∏–º–µ—Ä—ã (examples/)
- **examples.cpp** - 6 –ø–æ–ª–Ω—ã—Ö –ø—Ä–∏–º–µ—Ä–æ–≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
  1. –ü—Ä–æ—Å—Ç–æ–π –∫—Ä–∞—É–ª–∏–Ω–≥ –æ–¥–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã
  2. –ë–∞—Ç—á –∫—Ä–∞—É–ª–∏–Ω–≥ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Å—Ç—Ä–∞–Ω–∏—Ü
  3. –ö–∞—Å—Ç–æ–º–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ –∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
  4. –≠–∫—Å–ø–æ—Ä—Ç –≤ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ñ–æ—Ä–º–∞—Ç–æ–≤
  5. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
  6. –ò–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

### –°–∫—Ä–∏–ø—Ç—ã –∏ —É—Ç–∏–ª–∏—Ç—ã

#### Python —Å–∫—Ä–∏–ø—Ç—ã (scripts/)
- **parquet_utils.py** - –£—Ç–∏–ª–∏—Ç–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –¥–∞–Ω–Ω—ã–º–∏
  - –ß—Ç–µ–Ω–∏–µ –∏ –∞–Ω–∞–ª–∏–∑ Parquet —Ñ–∞–π–ª–æ–≤
  - –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –≤ CSV, JSON
  - –°–ª–∏—è–Ω–∏–µ —Ñ–∞–π–ª–æ–≤
  - –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Å—Ç–∞—Ç—É—Å –∫–æ–¥–∞–º
  - –°–æ–∑–¥–∞–Ω–∏–µ samples

#### Bash —Å–∫—Ä–∏–ø—Ç—ã
- **run.sh** - –£–¥–æ–±–Ω—ã–π —Å–∫—Ä–∏–ø—Ç –¥–ª—è –∑–∞–ø—É—Å–∫–∞
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
  - –°–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞
  - –ó–∞–ø—É—Å–∫ –ø—Ä–æ–≥—Ä–∞–º–º—ã
  - –û—á–∏—Å—Ç–∫–∞ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤
  
- **install_dependencies.sh** - –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏ —Å–±–æ—Ä–∫–∞

- **CMakeLists.txt** - CMake –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
  - –¢—Ä–µ–±—É–µ—Ç C++17
  - –ù–∞—Ö–æ–¥–∏—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
  - –ö–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç –ø—Ä–æ–µ–∫—Ç
  
- **Makefile** - –£–¥–æ–±–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
  ```
  make install-deps  # –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
  make build         # –°–æ–±—Ä–∞—Ç—å –ø—Ä–æ–µ–∫—Ç
  make run           # –ó–∞–ø—É—Å—Ç–∏—Ç—å
  make clean         # –û—á–∏—Å—Ç–∏—Ç—å
  make docker-build  # Docker –æ–±—Ä–∞–∑
  ```

- **Dockerfile** - Docker –æ–±—Ä–∞–∑
  - Ubuntu 24.04 –±–∞–∑–æ–≤—ã–π –æ–±—Ä–∞–∑
  - –í—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–±–æ—Ä–∫–∞
  
- **docker-compose.yml** - Docker Compose –∫–æ–Ω—Ñ–∏–≥
  - –ó–∞–ø—É—Å–∫ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ
  - –ú–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–æ–º–æ–≤
  - –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

### –î–∞–Ω–Ω—ã–µ –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

- **config.json** - –ü—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
  - –¢–∞–π–º–∞—É—Ç—ã
  - –ó–∞–≥–æ–ª–æ–≤–∫–∏
  - –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –≤—ã–≤–æ–¥–∞
  
- **urls.txt** - –°–ø–∏—Å–æ–∫ URL-–æ–≤ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
  
- **requirements.txt** - Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
  - pandas
  - pyarrow
  - numpy

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- **README.md** (7KB)
  - –ü–æ–ª–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
  - API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
  - –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
  - –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
  
- **QUICKSTART.md** (8.5KB)
  - –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
  - –ü–æ—à–∞–≥–æ–≤—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏
  - –ü—Ä–∏–º–µ—Ä—ã –∫–æ–º–∞–Ω–¥
  - –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º
  
- **DEVELOPER.md** (9.7KB)
  - –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
  - –î–µ—Ç–∞–ª–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
  - –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏
  - –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
  
- **project.json** - –ú–µ—Ç–∞–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–æ–µ–∫—Ç–µ

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –í–∞—Ä–∏–∞–Ω—Ç 1: –õ–æ–∫–∞–ª—å–Ω–æ

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
./install_dependencies.sh

# –°–æ–±—Ä–∞—Ç—å –ø—Ä–æ–µ–∫—Ç
mkdir build && cd build
cmake ..
make
cd ..

# –ó–∞–ø—É—Å—Ç–∏—Ç—å
./build/crawler
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –° Makefile

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å
make install-deps
make run
```

### –í–∞—Ä–∏–∞–Ω—Ç 3: –° —É–¥–æ–±–Ω—ã–º —Å–∫—Ä–∏–ø—Ç–æ–º

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
./run.sh run
```

### –í–∞—Ä–∏–∞–Ω—Ç 4: Docker

```bash
# Docker –æ–±—Ä–∞–∑
docker build -t crawler .
docker run crawler

# –ò–ª–∏ Docker Compose
docker-compose up
```

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö

–ö–∞–∂–¥–∞—è –∑–∞–ø–∏—Å—å —Å–æ–¥–µ—Ä–∂–∏—Ç:

```cpp
struct DataRecord {
    std::string url;        // URL: https://example.com
    std::string title;      // –ó–∞–≥–æ–ª–æ–≤–æ–∫ –∏–∑ <title> —Ç–µ–≥–∞
    std::string content;    // –í–µ—Å—å HTML –∫–æ–Ω—Ç–µ–Ω—Ç
    std::string timestamp;  // –í—Ä–µ–º—è —Å–±–æ—Ä–∞: 2026-01-25 10:30:45
    int status_code;        // HTTP —Å—Ç–∞—Ç—É—Å: 200, 404, 500 –∏ —Ç.–¥.
};
```

–°–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ Parquet —Å–æ —Å—Ö–µ–º–æ–π:
```
url         : utf8 (—Å—Ç—Ä–æ–∫–∞)
title       : utf8 (—Å—Ç—Ä–æ–∫–∞)
content     : utf8 (—Å—Ç—Ä–æ–∫–∞, –±–æ–ª—å—à–æ–π —Ç–µ–∫—Å—Ç)
timestamp   : utf8 (–¥–∞—Ç–∞ –∏ –≤—Ä–µ–º—è)
status_code : int32 (—Ü–µ–ª–æ–µ —á–∏—Å–ª–æ)
```

## üíæ –§–æ—Ä–º–∞—Ç—ã –≤—ã–≤–æ–¥–∞

### Parquet (–æ—Å–Ω–æ–≤–Ω–æ–π)
```bash
# –ü—Ä–∏–º–µ—Ä—ã –∫–æ–º–∞–Ω–¥
./build/crawler  # –°–æ–∑–¥–∞–µ—Ç dataset.parquet

# –ß—Ç–µ–Ω–∏–µ –≤ Python
import pandas as pd
df = pd.read_parquet('dataset.parquet')
print(df.head())  # –ü–µ—Ä–≤—ã–µ 5 —Å—Ç—Ä–æ–∫
```

### CSV (–¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏)
```bash
# Python —É—Ç–∏–ª–∏—Ç–∞
python3 scripts/parquet_utils.py to-csv dataset.parquet output.csv
```

### JSON (–¥–ª—è API)
```bash
# Python —É—Ç–∏–ª–∏—Ç–∞
python3 scripts/parquet_utils.py to-json dataset.parquet output.json
```

## üõ†Ô∏è –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

### 1. WebCrawler (–±–∞–∑–æ–≤—ã–π)

```cpp
WebCrawler crawler;
crawler.set_timeout(30);
crawler.add_header("User-Agent", "MyBot/1.0");

// –û–¥–Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞
DataRecord record = crawler.fetch("https://example.com");

// –ù–µ—Å–∫–æ–ª—å–∫–æ —Å—Ç—Ä–∞–Ω–∏—Ü (—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ)
auto records = crawler.crawl_urls(urls);
```

### 2. AdvancedCrawler (–º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω—ã–π)

```cpp
AdvancedCrawler crawler(8);  // 8 –ø–æ—Ç–æ–∫–æ–≤

// –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–π –∫—Ä–∞—É–ª–∏–Ω–≥
auto records = crawler.crawl_parallel(urls);

// –ò–∑ —Ñ–∞–π–ª–∞
auto records = crawler.crawl_from_file("urls.txt");

// –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
auto stats = crawler.get_stats();
```

### 3. ParquetDatasetWriter (–∑–∞–ø–∏—Å—å)

```cpp
ParquetDatasetWriter writer;

// –ó–∞–ø–∏—Å–∞—Ç—å –≤ Parquet
writer.write_records("dataset.parquet", records);

// –î–æ–±–∞–≤–∏—Ç—å –∫ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–º—É
writer.append_records("dataset.parquet", more_records);

// –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ CSV
writer.write_csv("dataset.csv", records);
```

## üìö –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü—Ä–∏–º–µ—Ä 1: –°–æ–±—Ä–∞—Ç—å 1000 —Å—Ç—Ä–∞–Ω–∏—Ü

```cpp
#include "advanced_crawler.h"
#include "dataset_writer.h"

int main() {
    AdvancedCrawler crawler(8);
    
    std::vector<std::string> urls;
    for (int i = 1; i <= 1000; i++) {
        urls.push_back("https://example.com/page/" + std::to_string(i));
    }
    
    auto records = crawler.crawl_parallel(urls);
    
    ParquetDatasetWriter writer;
    writer.write_records("big_dataset.parquet", records);
    
    return 0;
}
```

### –ü—Ä–∏–º–µ—Ä 2: –ê–Ω–∞–ª–∏–∑ –≤ Python

```python
import pandas as pd

# –ó–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ
df = pd.read_parquet('dataset.parquet')

# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
print(f"–í—Å–µ–≥–æ —Å—Ç—Ä–∞–Ω–∏—Ü: {len(df)}")
print(f"\n–†–∞–∑–º–µ—Ä –∫–æ–Ω—Ç–µ–Ω—Ç–∞:")
print(df['content'].str.len().describe())

# –£—Å–ø–µ—à–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
success = df[df['status_code'] == 200]
print(f"–£—Å–ø–µ—à–Ω–æ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö: {len(success)}")

# –û—à–∏–±–∫–∏
errors = df[df['status_code'] != 200]
print(f"–û—à–∏–±–æ–∫: {len(errors)}")
print(errors['status_code'].value_counts())
```

### –ü—Ä–∏–º–µ—Ä 3: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Python —É—Ç–∏–ª–∏—Ç

```bash
# –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –¥–∞–Ω–Ω—ã—Ö
python3 scripts/parquet_utils.py info dataset.parquet

# –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–æ—Ä–º–∞—Ç–æ–≤
python3 scripts/parquet_utils.py to-csv dataset.parquet data.csv
python3 scripts/parquet_utils.py to-json dataset.parquet data.json

# –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —É—Å–ø–µ—à–Ω—ã—Ö
python3 scripts/parquet_utils.py filter dataset.parquet 200 -o success.parquet

# –û–±—Ä–∞–∑–µ—Ü 1000 –∑–∞–ø–∏—Å–µ–π
python3 scripts/parquet_utils.py sample dataset.parquet 1000 -o sample.parquet

# –°–ª–∏—è–Ω–∏–µ —Ñ–∞–π–ª–æ–≤
python3 scripts/parquet_utils.py merge part1.parquet part2.parquet -o merged.parquet
```

## üîß –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

### Ubuntu/Debian

```bash
sudo apt-get update
sudo apt-get install -y cmake build-essential
sudo apt-get install -y libcurl4-openssl-dev
sudo apt-get install -y libparquet-dev libparquet0
pip3 install pandas pyarrow numpy
```

### MacOS

```bash
brew install cmake curl
brew install apache-arrow parquet
pip3 install pandas pyarrow numpy
```

### Docker (—É–∂–µ –≤–∫–ª—é—á–µ–Ω)

```bash
docker build -t crawler .
docker run crawler
```

## üìà –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –°–∫–æ—Ä–æ—Å—Ç—å –∫—Ä–∞—É–ª–∏–Ω–≥–∞

| –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è | –°–∫–æ—Ä–æ—Å—Ç—å |
|-------------|---------|
| 1 –ø–æ—Ç–æ–∫ (—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ) | 1-5 req/sec |
| 4 –ø–æ—Ç–æ–∫–∞ | 4-15 req/sec |
| 8 –ø–æ—Ç–æ–∫–æ–≤ | 8-25 req/sec |

*–ó–∞–≤–∏—Å–∏—Ç –æ—Ç —Å–µ—Ç–µ–≤–æ–π –∑–∞–¥–µ—Ä–∂–∫–∏ –∏ —Ä–∞–∑–º–µ—Ä–∞ —Å—Ç—Ä–∞–Ω–∏—Ü*

### –†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–æ–≤

| –§–æ—Ä–º–∞—Ç | –†–∞–∑–º–µ—Ä (1000 —Å—Ç—Ä–∞–Ω–∏—Ü) | –°—Ç–µ–ø–µ–Ω—å —Å–∂–∞—Ç–∏—è |
|--------|-------------------|----------|
| Raw HTML | ~500 MB | 1x |
| CSV | ~350 MB | 0.7x |
| Parquet | ~50-100 MB | 0.1-0.2x |

### –°–∫–æ—Ä–æ—Å—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫–∏

| –û–ø–µ—Ä–∞—Ü–∏—è | –í—Ä–µ–º—è |
|---------|------|
| –ö—Ä–∞—É–ª–∏–Ω–≥ 1000 —Å—Ç—Ä–∞–Ω–∏—Ü (8 –ø–æ—Ç–æ–∫–æ–≤) | ~5-10 –º–∏–Ω—É—Ç |
| –ó–∞–ø–∏—Å—å –≤ Parquet | ~1 —Å–µ–∫ |
| –ß—Ç–µ–Ω–∏–µ Parquet –≤ Python | ~0.5 —Å–µ–∫ |

## üéØ –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

‚úÖ **–ö—Ä–∞—É–ª–∏–Ω–≥**
- –°–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∏ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π —Ä–µ–∂–∏–º—ã
- Thread pool –¥–ª—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã
- –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ —Ç–∞–π–º–∞—É—Ç—ã
- –ö–∞—Å—Ç–æ–º–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–π (301, 302)

‚úÖ **–§–æ—Ä–º–∞—Ç—ã**
- Parquet (—Å–∂–∞—Ç—ã–π, –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π)
- CSV (—Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å)
- JSON (—á–µ—Ä–µ–∑ Python)

‚úÖ **–£—Ç–∏–ª–∏—Ç—ã**
- –ê–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö –≤ Python
- –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è —Ñ–æ—Ä–º–∞—Ç–æ–≤
- –°–ª–∏—è–Ω–∏–µ —Ñ–∞–π–ª–æ–≤
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Å—Ç–∞—Ç—É—Å –∫–æ–¥–∞–º
- –°–æ–∑–¥–∞–Ω–∏–µ samples

‚úÖ **–†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ**
- Standalone C++ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
- Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è
- Docker Compose
- –°–∏—Å—Ç–µ–º–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ —á–µ—Ä–µ–∑ Makefile

‚úÖ **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**
- API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- –ü—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞
- –ì–∞–π–¥—ã –ø–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
- –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ

## üèóÔ∏è –§–∞–π–ª–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

```
dataset/
‚îú‚îÄ‚îÄ CMakeLists.txt              # –°–±–æ—Ä–∫–∞
‚îú‚îÄ‚îÄ Makefile                    # –£–¥–æ–±–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
‚îú‚îÄ‚îÄ Dockerfile                  # Docker –æ–±—Ä–∞–∑
‚îú‚îÄ‚îÄ docker-compose.yml          # Docker Compose
‚îú‚îÄ‚îÄ run.sh                       # –£–¥–æ–±–Ω—ã–π —Å–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å–∫–∞
‚îú‚îÄ‚îÄ install_dependencies.sh     # –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
‚îÇ
‚îú‚îÄ‚îÄ include/                    # –ó–∞–≥–æ–ª–æ–≤–æ—á–Ω—ã–µ —Ñ–∞–π–ª—ã
‚îÇ   ‚îú‚îÄ‚îÄ crawler.h
‚îÇ   ‚îú‚îÄ‚îÄ advanced_crawler.h
‚îÇ   ‚îî‚îÄ‚îÄ dataset_writer.h
‚îÇ
‚îú‚îÄ‚îÄ src/                        # –†–µ–∞–ª–∏–∑–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ main.cpp
‚îÇ   ‚îú‚îÄ‚îÄ crawler.cpp
‚îÇ   ‚îú‚îÄ‚îÄ advanced_crawler.cpp
‚îÇ   ‚îî‚îÄ‚îÄ dataset_writer.cpp
‚îÇ
‚îú‚îÄ‚îÄ examples/                   # –ü—Ä–∏–º–µ—Ä—ã
‚îÇ   ‚îî‚îÄ‚îÄ examples.cpp
‚îÇ
‚îú‚îÄ‚îÄ scripts/                    # Python —É—Ç–∏–ª–∏—Ç—ã
‚îÇ   ‚îî‚îÄ‚îÄ parquet_utils.py
‚îÇ
‚îú‚îÄ‚îÄ config.json                 # –ü—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ urls.txt                    # –ü—Ä–∏–º–µ—Ä URL-–æ–≤
‚îú‚îÄ‚îÄ requirements.txt            # Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îÇ
‚îî‚îÄ‚îÄ docs/
    ‚îú‚îÄ‚îÄ README.md               # –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
    ‚îú‚îÄ‚îÄ QUICKSTART.md           # –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
    ‚îú‚îÄ‚îÄ DEVELOPER.md            # –ì–∞–π–¥ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞
    ‚îî‚îÄ‚îÄ project.json            # –ú–µ—Ç–∞–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
```

## üìù –î–∞–ª—å–Ω–µ–π—à–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

–í–æ–∑–º–æ–∂–Ω—ã–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è:

1. **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ** - Redis –¥–ª—è –∫—ç—à–∞ —Å—Ç—Ä–∞–Ω–∏—Ü
2. **–û—á–µ—Ä–µ–¥—å –∑–∞–¥–∞—á** - RabbitMQ/Kafka –¥–ª—è –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è
3. **Database** - PostgreSQL –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
4. **API** - REST API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫—Ä–∞—É–ª–∏–Ω–≥–æ–º
5. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** - Prometheus/Grafana metrics
6. **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** - ELK stack –¥–ª—è –ª–æ–≥–æ–≤
7. **JavaScript —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥** - Puppeteer/Selenium –ø–æ–¥–¥–µ—Ä–∂–∫–∞
8. **–ü—Ä–æ–∫—Å–∏** - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø—Ä–æ–∫—Å–∏ –∏ —Ä–æ—Ç–∞—Ü–∏—è

## üéì –û–±—É—á–µ–Ω–∏–µ

–ü—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞ –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è:

1. **–ù–∞—á–Ω–∏—Ç–µ —Å** - `src/main.cpp` (–ø—Ä–æ—Å—Ç–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞)
2. **–ò–∑—É—á–∏—Ç–µ** - `include/crawler.h` (API)
3. **–ü–æ–ø—Ä–æ–±—É–π—Ç–µ** - `examples/examples.cpp` (–ø—Ä–∏–º–µ—Ä—ã)
4. **–£–≥–ª—É–±–∏—Ç–µ—Å—å** - `src/crawler.cpp` (—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è)
5. **–†–∞—Å—à–∏—Ä—è–π—Ç–µ** - `include/advanced_crawler.h` (–º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ—Å—Ç—å)

## üí° –°–æ–≤–µ—Ç—ã –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

1. –ù–∞—á–Ω–∏—Ç–µ —Å –º–∞–ª–æ–≥–æ: 10-100 —Å—Ç—Ä–∞–Ω–∏—Ü –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ—Å—Ç—å –¥–ª—è –±–æ–ª—å—à–∏—Ö –¥–∞—Ç–∞—Å–µ—Ç–æ–≤
3. –ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏
4. –£–≤–∞–∂–∞–π—Ç–µ robots.txt –∏ Rate Limiting
5. –°–æ—Ö—Ä–∞–Ω—è–π—Ç–µ —Å—ã—Ä–æ–º HTML –¥–ª—è –ø–µ—Ä–µ–æ–±—Ä–∞–±–æ—Ç–∫–∏
6. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ batch –∑–∞–ø–∏—Å—å –¥–ª—è –±–æ–ª—å—à–∏—Ö –æ–±—ä–µ–º–æ–≤
7. –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ —Å—Ç–∞—Ç—É—Å –∫–æ–¥—ã –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –æ—à–∏–±–æ–∫

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–∞—é—Ç –ø—Ä–æ–±–ª–µ–º—ã:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é (README.md, QUICKSTART.md)
2. –°–º–æ—Ç—Ä–∏—Ç–µ –ø—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞ (examples/examples.cpp)
3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Python —É—Ç–∏–ª–∏—Ç—ã –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏
5. –ò–∑—É—á–∏—Ç–µ DEVELOPER.md –¥–ª—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

---

**–ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!** üéâ

–í—ã –ø–æ–ª—É—á–∏–ª–∏ –ø–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π, –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π, –∏ –≥–æ—Ç–æ–≤—ã–π –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É –∫—Ä–∞—É–ª–µ—Ä –¥–ª—è —Å–±–æ—Ä–∞ –¥–∞—Ç–∞—Å–µ—Ç–æ–≤ –¥–ª—è –ò–ò.
